<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="member">
	<insert id="enrollMember">
		insert into member values(
		seq_member_no.nextval,
		#{memberId },
		#{memberPassword },
		#{memberName },
		#{memberPhone },
		#{memberEmail },
		#{memberPostcode},
		#{memberAddress},
		#{memberDetailAddress},
		#{memberGender},
		#{memberBirthday},
		'N',
		default
		)
	</insert>

	<select id="selectOneMember" resultMap="memberMap">
		select * from member where member_id=#{memberId}
	</select>
	
	<resultMap type="member" id="memberMap">
		
	</resultMap>
	
	<update id="GetKey" parameterType="Map">
		update member set member_validate_key= #{validateKey} where member_id=#{memberId}
	</update>

	<update id="alterUserKey" parameterType="Map">
		update member set member_validate_key= 'Y' where member_id=#{memberId} and member_validate_key = #{validateKey}
	</update>
	<!--주영 회원수정 시작  -->
	<update id="updateMember">
		UPDATE MEMBER SET			 
					 
					member_password	=#{memberPassword}
					member_phone	=#{memberPhone}
					member_postcode	=#{memberPostcode}
					member_address	=#{memberAddress}
					member_detail_address	#{memberDetailAddress}
			
		WHERE member_email =#{memberEmail}	
	</update>

	<!--끝 -->
</mapper>