<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="member">
	<insert id="enrollMember">
		insert into member values(
		seq_member_no.nextval,
		#{memberEmail },
		#{memberPassword },
		#{memberName },
		#{memberPhone },
		#{memberPostcode},
		#{memberAddress},
		#{memberDetailAddress},
		#{memberGender},
		#{memberBirthday},
		default,
		default,
		default
		)
		<selectKey keyProperty="memberNo" resultType="_int" order="AFTER">
			select seq_member_no.currval from dual
		</selectKey>
	</insert>

	<select id="selectOneMember" resultMap="memberMap">
		select * from member where member_email=#{memberEmail}
	</select>
	
	<resultMap type="member" id="memberMap">
		
	</resultMap>
	
	<update id="GetKey" parameterType="Map">
		update member set member_validate_key= #{validateKey} where member_email=#{memberEmail}
	</update>

	<update id="alterUserKey" parameterType="Map">
		update member set member_validate_key= 'Y' where member_email=#{memberEmail} and member_validate_key = #{validateKey}
	</update>

</mapper>
    
    
    
    
    
    
    
    